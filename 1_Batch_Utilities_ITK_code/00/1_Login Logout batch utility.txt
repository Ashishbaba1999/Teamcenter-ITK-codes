
login logout utility
............................................................................................

header.c
.....................................................................................
#include<stdio.h>
#include<tc/tc_startup.h>
#include<tcinit/tcinit.h>
#include<tc/emh.h>
...........................................................................................
login.c
......................................................................................
#include "Header.h"

int ITK_user_main(int argc, char* argv[])
{
	int iFail = 0;
	char *cError = NULL;
	char* cUserID = NULL;
	char* cPassword = NULL;
	char* cGroup = NULL;

	if (argc == 4)
	{

		cUserID = ITK_ask_cli_argument("-u=");
		cPassword = ITK_ask_cli_argument("-p=");
		cGroup = ITK_ask_cli_argument("-g=");


		//login to TC using hard coded value
		//iFail = ITK_init_module("infodba", "infodba", "dba");  

		//auto login to TC using system ID and password
		//iFail = ITK_auto_login(); 

		//login to TC using user's input ID and Password
		iFail = ITK_init_module(cUserID, cPassword, cGroup);



		if (iFail == ITK_ok)
		{
			printf("\n\n login success");
			iFail = ITK_exit_module(TRUE);
			if (iFail == ITK_ok)
			{
				printf("\n\n logout success");

			}
			else
			{
				EMH_ask_error_text(iFail, &cError);

				printf("\n\n Error is : %s", cError);
			}
		}
		else
		{
			EMH_ask_error_text(iFail, &cError);

			printf("\n\n Error is : %s", cError);
		}
		if (cError) {
			MEM_free(cError);
		}


	}
	else
	{
		printf("\n\n Argument count is less or more");
	}


	return 0;
}